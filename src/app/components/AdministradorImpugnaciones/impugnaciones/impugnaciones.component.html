<div class="max-w-7xl mx-auto px-4 py-8">
  <div class="bg-white rounded-xl shadow-lg overflow-hidden">
    <div class="bg-primary py-4 px-6 text-white rounded-t-xl">
      <h4 class="m-0 font-bold text-xl">Hola {{ nombreCoordinador }}</h4>
    </div>
    <div class="p-6">
      <form class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 m-4 justify-center" [formGroup]="searchForm">
        <div class="space-y-2">
          <label class="block text-sm font-bold text-gray-700">Categoría</label>
          <ng-select [items]="categoryList" [searchable]="false" class="custom-select rounded-lg" bindLabel="nombre"
            bindValue="id" (change)="getSelectedCategory($event)" información="No hay información disponible"
            placeholder="Seleccione la categoría" formControlName="category" [clearAllText]="'Borrar todo'">
          </ng-select>
        </div>
      </form>
    </div>
  </div>
  <div>
    <ul class="flex border-b border-gray-200 mt-5" id="myTab" role="tablist">
      <li class="mr-2" role="presentation">
        <button class="px-6 py-3 text-lg font-semibold border-b-2 border-primary text-primary bg-transparent active" id="home-tab" data-bs-toggle="tab" data-bs-target="#porrevisar"
          type="button" role="tab">
          IMPUGNAR
        </button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="porrevisar" role="tabpanel" aria-labelledby="home-tab">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden mt-5">
          <div class="p-6">
            <div class="overflow-x-auto my-4" [hidden]="dataImpugnar.length <= 0">
              <div class="flex justify-end py-2">
                <button class="px-4 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-md" (click)="printAll()">
                  Imprimir todos
                </button>
              </div>
              <table id="second-table" datatable [dtOptions]="dtOptions1" [dtTrigger]="dtTrigger2"
                class="min-w-full divide-y divide-gray-200 text-center align-middle w-full">
                <thead class="bg-gray-50 text-gray-900 align-middle">
                  <tr>
                    <th scope="col" class="px-6 py-3 text-sm font-bold uppercase tracking-wider">OBSERVACIONES</th>
                    <th scope="col" class="px-6 py-3 text-sm font-bold uppercase tracking-wider">ZONA</th>
                    <th scope="col" class="px-6 py-3 text-sm font-bold uppercase tracking-wider">PUESTO</th>
                    <th scope="col" class="px-6 py-3 text-sm font-bold uppercase tracking-wider">MESA</th>
                    <th scope="col" class="px-6 py-3 text-sm font-bold uppercase tracking-wider">ACCIONES</th>
                  </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                  <tr class="hover:bg-gray-50" *ngFor="let impugnar of dataImpugnar">
                    <td class="px-6 py-4">
                      <div class="w-full overflow-auto">
                        {{ impugnar.observaciones }}
                      </div>
                      <button class="px-2 py-1 hover:bg-gray-100 rounded transition-colors mt-2" data-bs-toggle="modal" data-bs-target="#verobservaciones" (click)="seleccionarImpugnacion(impugnar)">
                        <i class="fa-solid fa-eye text-primary"></i>
                      </button>
                    </td>
                
                    <td class="px-6 py-4 whitespace-nowrap">{{ impugnar.zona }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ impugnar.puesto }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">{{ impugnar.mesa }}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <div class="flex gap-2 justify-center items-center">
                        <button class="px-2 py-1 hover:bg-gray-100 rounded transition-colors" data-bs-toggle="modal" data-bs-target="#impugnadosmodal" (click)="ModalImpugnarActual(impugnar)">
                          <i class="fa-solid fa-eye text-primary"></i>
                        </button>
                        <button class="px-2 py-1 hover:bg-gray-100 rounded transition-colors" (click)="print(impugnar)">
                          <i class="fa-solid fa-print text-primary"></i>
                        </button>
                        <div id="print-section"></div>
                      </div>
                    </td>
                  </tr>
                </tbody>
                
              </table>
            </div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="revisados" role="tabpanel" aria-labelledby="profile-tab">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden mt-5">
          <div class="p-6">
            <h5 class="text-lg font-bold text-gray-900" id="exampleModalLabel">
              <strong>Vista revisados</strong>
            </h5>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Modal de Bootstrap con estilos Tailwind -->
<div class="modal fade" id="impugnadosmodal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" style="max-width: 90%; width: 90%; height: 90%;">
    <div class="modal-content bg-white rounded-xl shadow-2xl overflow-hidden" style="height: 100%;">
      <div class="modal-header bg-primary text-white py-4 px-6">
        <h5 class="modal-title font-bold text-lg" id="exampleModalLabel">Información</h5>
        <button type="button" class="bg-transparent border-0 text-white hover:bg-white/20 rounded-lg p-2 transition-colors" data-bs-dismiss="modal" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="modal-body p-6" style="height: 80vh;">
        <iframe [src]="urlImpugnados" frameborder="0" allowFullScreen="true" class="w-full h-full rounded-lg"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- Modal de Bootstrap con estilos Tailwind -->
<div class="modal fade" id="verobservaciones" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content bg-white rounded-xl shadow-2xl overflow-hidden">
      <div class="modal-header bg-primary text-white py-4 px-6">
        <h5 class="modal-title font-bold text-lg" id="exampleModalLabel">Información</h5>
        <button type="button" class="bg-transparent border-0 text-white hover:bg-white/20 rounded-lg p-2 transition-colors" data-bs-dismiss="modal" aria-label="Close">
          <i class="fa-solid fa-xmark"></i>
        </button>
      </div>
      <div class="modal-body p-6 space-y-4">
        <input type="text" class="w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all" [(ngModel)]="impugnacionActual.observaciones" />
        <button class="px-6 py-2 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 transition-all duration-200 shadow-md" (click)="saveObservation(impugnacionActual)">Guardar observacion</button>
      </div>
    </div>
  </div>
</div>

